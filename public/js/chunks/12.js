webpackJsonp([12],{"/bOk":function(t,n,s){(t.exports=s("FZ+f")(void 0)).push([t.i,".login-sns .md-icon-button[data-v-9eaf9f0e]{margin:10px 16px 0 0;min-width:auto;box-shadow:none}.login-sns .md-icon-button .md-icon[data-v-9eaf9f0e]{transition:all .345s}.login-sns .md-icon-button:hover .md-icon[data-v-9eaf9f0e]{-webkit-transform:scale(1.3);transform:scale(1.3)}",""])},"139G":function(t,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"GmfPagesAuthSns",data:function(){return{sending:!1}},computed:{canSns:function(){return!(!this.$root.configs.auth||!this.$root.configs.auth.sns)&&this.$root.configs.auth.sns},snsQQ:function(){return!!this.canSns&&this.$root.configs.auth.sns.qq},snsWeixin:function(){return!!this.canSns&&this.$root.configs.auth.sns.weixin},snsWeibo:function(){return!!this.canSns&&this.$root.configs.auth.sns.weibo}},methods:{fetchData:function(){}},mounted:function(){this.fetchData()}}},"2mab":function(t,n,s){var e=s("/bOk");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);s("rjj0")("0836c86f",e,!0)},"9dRT":function(t,n,s){var e=s("VU/8")(s("139G"),s("CVYg"),!1,function(t){s("2mab")},"data-v-9eaf9f0e",null);t.exports=e.exports},"9w2o":function(t,n,s){var e=s("VU/8")(s("Htv5"),s("TRKS"),!1,null,null,null);t.exports=e.exports},CVYg:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,s=t._self._c||n;return t.canSns?s("md-card-content",{staticClass:"login-sns"},[s("div",{staticClass:"md-body-1"},[t._v("使用合作账号登录")]),t._v(" "),s("div",{staticClass:"layout-row"},[t.snsQQ?s("md-button",{staticClass:"md-icon-button md-raised md-primary",attrs:{href:t.snsQQ}},[s("md-icon",{attrs:{"md-src":"/assets/vendor/gmf-sys/svg/auth-qq.svg"}})],1):t._e(),t._v(" "),t.snsWeixin?s("md-button",{staticClass:"md-icon-button md-raised md-primary",attrs:{href:t.snsWeixin}},[s("md-icon",{attrs:{"md-src":"/assets/vendor/gmf-sys/svg/auth-weixin.svg"}})],1):t._e(),t._v(" "),t.snsWeibo?s("md-button",{staticClass:"md-icon-button md-raised md-primary",attrs:{href:t.snsWeibo}},[s("md-icon",{attrs:{"md-src":"/assets/vendor/gmf-sys/svg/auth-weibo.svg"}})],1):t._e()],1)]):t._e()},staticRenderFns:[]}},Htv5:function(t,n,s){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=e(s("9dRT")),i=e(s("jFJc"));n.default={name:"AppAuthChooser",components:{AuthSns:a.default},data:function(){return{mainDatas:[],sending:!1}},computed:{},methods:{removeItem:function(t){},goItem:function(t){var n=this;this.sending=!0,this.$http.post("sys/auth/checker",t).then(function(t){n.sending=!1;var s=t.data.data;s&&n.$go({name:"auth.password",params:{id:s.id}})}).catch(function(t){n.sending=!1,n.$toast(t)})},fetchData:function(){this.mainDatas=i.default.get()||[]}},mounted:function(){this.fetchData()}}},TRKS:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("md-card",[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-title"},[t._v("选择帐号")])])],1),t._v(" "),s("md-list",[t._l(t.mainDatas,function(n){return s("md-list-item",{key:n.id,on:{click:function(s){t.goItem(n)}}},[s("md-avatar",[s("md-image",{attrs:{"md-src":n.avatar}})],1),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v(t._s(n.name))]),t._v(" "),s("span",[t._v(t._s(n.account))])])],1)}),t._v(" "),s("md-list-item",{attrs:{to:{name:"auth.identifier"}}},[s("md-avatar",[s("md-icon",{staticClass:"md-size-2x"},[t._v("account_circle")])],1),t._v(" "),s("div",{staticClass:"md-list-item-text"},[s("span",[t._v("使用其他帐号")]),t._v(" "),s("span",[t._v("使用新的账号登录")])])],1)],2),t._v(" "),s("md-divider"),t._v(" "),s("auth-sns"),t._v(" "),t.mainDatas&&t.mainDatas.length?[s("md-divider"),t._v(" "),s("md-card-content",[s("md-button",{attrs:{to:{name:"auth.remove"}}},[t._v("\n        移除账号\n      ")])],1)]:t._e(),t._v(" "),t.sending?s("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):t._e()],2)},staticRenderFns:[]}},jFJc:function(t,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=function(){function t(t,n){for(var s=0;s<n.length;s++){var e=n[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,s,e){return s&&t(n.prototype,s),e&&t(n,e),n}}(),a=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.storageKey="gmf.sys.auth."+window.location.host}return e(t,[{key:"get",value:function(){return JSON.parse(localStorage.getItem(this.storageKey))||[]}},{key:"has",value:function(t){return!1}},{key:"remove",value:function(t){if(t){for(var n=this.get(),s=0;s<n.length;s++)if(n[s].id==t.id){s;break}s>=0&&(n.splice(s,1),localStorage.setItem(this.storageKey,JSON.stringify(n)))}}},{key:"add",value:function(t){if(t){var n=this.get(),s=!1;n.forEach(function(n){n.id==t.id&&(s=!0)}),s||n.push(t),localStorage.setItem(this.storageKey,JSON.stringify(n))}}}]),t}();n.default=new a}});